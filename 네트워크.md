## 프로토콜
서로 다른 시스템 사이에서 데이터 교환을 위한 통신 규약.
- IP (Internet Protocol. 인터넷 프로토콜. 아이피.)
- TCP (Transmission Control Protocol. 전송 제어 프로토콜)
- UDP (User Datagram Protocol. 사용자 데이터그램 프로토콜)

https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%EB%84%B7_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C_%EC%8A%A4%EC%9C%84%ED%8A%B8
#### IP
송수신 호스트가 패킷 교환 네트워크에서 사용하는 정보 위주의 규약.  
- OSI 네트워크 계층에서 호스트의 주소지정과 패킷 분할 및 조립 기능 담당
- IP 정보는 덩어리로 나뉘어 전송되며, 이를 패킷 혹은 데이터그램이라고 부른다.

비신뢰성과 비연결성이 특징이다.
- 비신뢰성: 흐름에 관여하지 않기 때문에 보낸 정보가 제대로 갔는지 보장하지 않는다.  
신뢰성있는 통신을 하려면 상위 레이어의 TCP 같은 프로토콜을 사용해야 한다.
- 비연결성: 데이터 전송 이전에 미리 설정과정을 거치지 않는다.  
IP에서는 이전에 통신한 적 없는 호스트에 패킷을 보낸 때에도 경로 설정이 필요없다.
##### IP 헤더
- ver: IP 프로토콜의 버전 정보
- header len: 헤더의 길이
- type of service: 네트워크 계층에서 제공해주는 서비스에 필요한 정보
- identifier, flags, offset: fragmentation(단편화)에 필요한 정보
- time to live: 패킷이 살아있을 수 있는 hop 수
- upper layer: 상위 레이어의 어디서 payload의 데이터를 처리할 지에 대한 정보
##### IP fragmentation
IP 패킷이 전송되는 과정에서, 작은 크기의 링크를 지나갈 수 있는데,  
이를 큰 데이타그램이 이를 통과하려면 단편화해야 한다.  
다시 합쳐지는 것은 최종 목적지 호스트에 도착했을 때 수행한다.
##### MTU
Maximum Transmission Unit. 최대 전송 유닛.  
네트워크 계층에서 보낼 수 있는 최대 payload 크기. (header 크기는 제외)
> 전송 계층에서의 MSS는 최대 segment 크기인데, header 크기를 포함한다.
#### TCP
인터넷 프로토콜 스위트의 핵심 프로토콜 중 하나로, IP와 함께 TCP/IP라는 명칭으로 불린다.  
근거리 통신망, 인트라넷, 인터넷에 연결된 컴퓨터에서 실행되는 프로그램 간에  
일련의 바이트(8비트, 옥텟)를 안정적으로, 순서대로, 에러없이 교환할 수 있게 한다.

OSI의 전송 계층에 위치한다.  
  
웹 브라우저가 월드 와이드 웹에서 서버에 연결할 때, 이메일 전송, 파일 전송 등에 사용된다.  
TCP의 안정성을 필요로 하지 않는 애플리케이션은 일반적으로 UDP를 사용한다.  
  
- 연결성
  - 데이터를 주고 받을 양단 간에 먼저 연결을 설정
  - 설정된 연결을 통해 양방향으로 데이터를 전송
- 신뢰성: 메시지 수신을 확인함
- 순서성(순서 정렬): 메시지가 보내진 순서를 보장하기 위해 재조립
##### UDP
전달 확인 및 순차 보장 기능이 없지만, 오버헤드가 작고 지연시간이 짧다.  
- 비연결성: 연결 설정X, 수신자가 데이터를 받을 준비가 됐는지 확인X, 단방향으로 정보 전송
- 비신뢰성: 수신자가 메시지를 수신했는지 확인X
- 비순서성: 메시지 도착 순서를 예측할 수 없다.
#### OSI 참조 모델
Open Systems Interconnection Reference Model.  
OSI(Open Systems Interconnection. 개방형 시스템 간 상호 접속): 일반적인 네트워크 모델  
컴퓨터 네트워크 프로토콜 디자인과 통신을 계층으로 나누어 설명한 것이다.  
일반적으로 OSI 7 계층이라고 한다.
- 응용 계층
- 표현 계층
- 세션 계층
- 전송 계층
- 네트워크 계층
- 데이터 링크 계층
- 물리 계층
##### 계층 1: 물리 계층
네트워크의 기본 네트워크 하드웨어 전송 기술.  
높은 수준의 기능의 논리 데이터 구조를 기초로 하는 필수 계층.  
다양한 특징의 하드웨어 기술이 접목되어 있어 가장 복잡한 계층으로 간주된다.
##### 계층 2: 데이터 링크 계층
포인트 투 포인트 간 신뢰성있는 전송을 보장하기 위한 계층.  
CRC 기반의 오류 제어와 흐름 제어가 필요.  
- 네트워크 위의 개체들 간 데이터를 전달
- 물리 계층에서 발생할 수 있는 오류 발견
- 오류 수정에 필요한 기능적, 절차적 수단 제공

주소 값은 물리적으로 할당 받는데, 이는 네트워크 가크다 만들어질 때부터 맥 주소가 정해져 있다는 뜻이다.
> MAC(Media Access Control) 주소: 네트워크 세그먼트의 데이터 링크 계층에서, 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자.  
> 이더넷과 와이파이를 포함한 대부분의 IEEE 802 네트워크 기술에서 네트워크 주소로 사용됨.  
> 이더넷 하드웨어 주소, 하드웨어 주소, 물리 주소(메모리 물리 주소와는 다름)로 불리기도 한다.

주소 체계는 계층이 없는 단일 구조다.  
데이터 링크 계층의 예
- 이더넷
- 포인트 투 포인트 프로토콜: HDLC, ADCCP
- 근거리 네트워크용 프로토콜: 패킷 스위칭 네트워크, LLC, ALOHA

네트워크 브릿지나 스위치 등이 이 계층에서 동작한다.  
직접 이어진 곳에만 연결할 수 있다.
- 프레임에 주소부여(MAC - 물리적주소)
- 에러검출, 재전송, 흐름제어
##### 계층 3: 네트워크 계층
여러 노드를 거칠 때마다 경로를 찾아주는 역할을 한다.  
연결된 다른 네트워크를 통해 데이터를 전달한다.  
다양한 길이의 데이터를 네트워크들을 통해 전달하고,  
그 과정에서 전속 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공한다.  
라우팅, 흐름 제어, 세그멘테이션, 오류 제어, 인터네트워킹 등을 수행한다.  
  
라우터가 이 계층에서 동작한다.  
이 계층에서 동작하는 스위치도 있다.  
  
논리적인 주소 구조(IP)를 가진다.  
즉, 네트워크 관리자가 직접 주소를 할당하는 구조를 가진다.  
또한 계측적이다.  
  
서브네트의 최상위 계층으로 경로를 설정하고 청구 정보를 관리한다.  
개방형 시스템들 사이에서 네트워크 연결을 설정, 유지, 해제하는 기능을 부여하고,  
전송 계층 사이에 네트워크 서비스 데이터 유닛(NSDU. Network Service Data Unit)을 교환하는 기능을 제공한다.
- 주소부여(IP)
- 경로설정(Route)
##### 계층 4: 전송 계층
양 끝단(end to end)의 사용자들이 신뢰성있는 데이터를 주고받을 수 있도록 한다.  
상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다.  
  
시퀀스 넘버 기반의 오류 제어 방식을 사용한다.  
- 특정 연결의 유효성을 제어한다.
- 일부 프로토콜은 상태 개념이 있다. (stateful)
- 연결 기반(connection oriented)이다.
이는 전송 계층이 패킷들의 전송이 유효한지 확인하고,  
전송 실패한 패킷들을 다시 전송한다는 것을 뜻한다.  
  
TCP가 이 계층에 속한다.  
종단간(end-to-end) 통신을 다루는 최하위 계층으로,  
종단간 신뢰성있고 효율적인 데이터를 전송하며,  
오류검출 및 복구, 흐름제어, 중복검사 등을 수행한다.

인터넷의 기반인 TCP/IP 참조 모델은 일반적인 네트워크 모델인 OSI와 전송 계층을 약간 다르게 정의한다.  
- 계층 구조의 네트워크 구성요소와 프로토콜 내에서 송신자와 수신자를 연결하는 통신 서비스를 제공한다.
- 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어, 다중화 등의 서비스를 제공한다.
##### 계층 5: 세션 계층
##### 계층 6: 표현 계층
##### 계층 7: 응용 계층

## TCP/IP 모델
- 응용 계층: FRP, 텔넷, SMTP, DNS, DHCP. OSI의 응용/표현/세션 계층에 대응한다.
- 전송 계층: TCP, UDP.
- 네트워크 계층: IP, ARP, ICMP, IGMP.
- 네트워크 접속 계층: 이더넷, 802.11x, MAC/LLC, SLIP, PPP, 모뎀, NIC. OSI의 데이터 링크/물리 계층에 대응한다.

## 브로드캐스팅 (Broadcasting)
송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식.  
모든 수신자에게 동시에 메시지를 전송하는 방법.  
즉, 일대모두(one-to-all) 방식이다.  
  
- All-to-All 통신: 각 송신자가 그룹 내의 모든 수신자에게 메시지를 전송.  
종종 멀티캐스트를 사용하여 수행된다. (즉, 멀티캐스트는 브로드캐스팅을 구현하는 기술이다.)  
각 발신자가 하나의 수신자와 통신하는 지점 간(point-to-point) 방법인 유티캐스트와 대조적인 방식이다.

IPv6은 브로드캐스트 방법을 구현하지 않았다.  
따라서 특정 트래픽을 받으려고 할 때, 해당 네트워크의 다른 노드에게 영향을 주지 않는다.
### 멀티캐스트 (Multicast)
한 번의 송신으로 메시지나 정보를 여러 컴퓨터에 동시에 전송한다.  
망 접속 형태가 요구할 경우, 자동으로 라우터 같은 다른 네트워크 요소들에 메시지의 복사본이 생성된다.
##### 라우터(router)
컴퓨터 네트워크 간에 데이터 패킷을 전송하는 네트워크 장치다.  
즉, 서로 다른 네트워크 간에 중계 역할을 한다.  
  
라우터는 라우팅 기능을 갖는 공유기라고 볼 수 있다.  
- 라우팅: 네트워크 안에서 통신 데이터를 보낼 때 최적의 경로를 선택하는 과정.
- 최적 경로: 가장 적은 시간에 전송할 수 있는 경로.  
거리가 가장 짧은 최단 경로가 될 수도 있지만, 고속 전송로 등을 이용하기 위해 돌아가는 경로가 될 수도 있다.
  
라우터의 기능 수행은 다음과 같다.
1. 패킷의 위치 추출
2. 위치에 대한 최적 경로 지정
3. 경로를 따라 데이터 패킷을 다음 장치로 전달
#### IP 멀티캐스트
네트워크 상의 IP 인프라를 통해 일대다 통신을 하기 위한 기술이다.  
수신자의 수와 종류에 대한 선행지식을 요구하지 않기 때문에  
더 많은 수신자로의 전송이 가능하다.  
  
멀티캐스트는 보통 IP 멀티캐스트 형태로 구현된다.  
스트리밍을 위한 IP 어플(인터넷 프로토콜 응용 프로그램) 및 인터넷 텔레비전에서 주로 사용된다.  
  
UDP는 멀티캐스트 주소를 사용하는 가장 일반적인 전송 계층 프로토콜이다.  
UDP의 신뢰성이 낮은데, 손실을 감지하고 재전송하기 위해  
프라그마틱 제네럴 멀티캐스트(PGM)같이 신뢰할 수 있는 멀티캐스트 프로토콜이 개발되었다.  
  
멀티캐스트가 주로 IP 라우팅 단계에서 구현된다.  
이 때 라우터는 데이터그램을 멀티캐스트 대상 주소로 보내기 위한 최적의 전송 경로를 생성한다.  
  
데이터 링크 계층에서 멀티캐스트는 일대다 전송을 의미한다.  
이러한 전송의 종류로는 다음의 것들이 있다.
- 이더넷 멀티캐스트 어드레싱
- [비동기 전송 방식][1]의 점대다 가상 회선(point-to-multipoint virtual circuits. P2MP)
- [인피니밴드][2] 멀티캐스트

[1]: https://ko.wikipedia.org/wiki/%EB%B9%84%EB%8F%99%EA%B8%B0_%EC%A0%84%EC%86%A1_%EB%B0%A9%EC%8B%9D
[2]: https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%94%BC%EB%8B%88%EB%B0%B4%EB%93%9C
